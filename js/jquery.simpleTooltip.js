// Generated by CoffeeScript 1.11.1
(function() {
  (function($) {
    $.fn.simpleTooltip = function(options) {
      var defaults, settings;
      defaults = {
        tooltipPos: "top"
      };
      settings = $.extend({}, defaults, options);
      this.each(function() {
        this.elTooltip = $(this);
        this.elTooltipLink = this.elTooltip.find(".TooltipWrapper_link");
        this.elTooltipContent = this.elTooltip.find(".TooltipWrapper_content");
        this.elTooltipLink.mouseover((function(_this) {
          return function(e) {
            var el, elHeight, elOffset, marginLeft, posBottom, posLeft, posRight, posTop, tooltipContent;
            e.preventDefault();
            el = $(e.target);
            elHeight = el.height();
            tooltipContent = el.parents(".TooltipWrapper").find(_this.elTooltipContent);
            posTop = "auto";
            posBottom = elHeight + 20;
            posLeft = -(tooltipContent.width() / 2 + 10);
            posRight = "auto";
            elOffset = el.offset();
            tooltipContent.removeClass("TooltipWrapper_content--showBelow").removeClass("LeftArrow");
            if (_this.isSpaceAbove(elOffset, elHeight, tooltipContent) || settings.tooltipPos === "below") {
              tooltipContent.addClass("TooltipWrapper_content--showBelow");
              posTop = elHeight;
              posBottom = "auto";
            }
            marginLeft = el.width() / 2;
            if (elOffset.left < 100) {
              tooltipContent.addClass("LeftArrow");
              posLeft = 0;
              marginLeft = 0;
            } else if ($(window).width() - elOffset.left < 130) {
              tooltipContent.addClass("RightArrow");
              posLeft = "auto";
              posRight = 0;
              marginLeft = 0;
            }
            tooltipContent.css({
              "top": posTop,
              "bottom": posBottom,
              "left": posLeft,
              "right": posRight,
              "color": settings.fontColor,
              "margin-left": marginLeft
            });
            return tooltipContent.show();
          };
        })(this));
        this.isSpaceAbove = function(elOffset, elHeight, tooltipContent) {
          return elOffset.top - $(window).scrollTop() < elHeight + tooltipContent.height();
        };
        this.elTooltipLink.mouseout((function(_this) {
          return function() {
            return $(_this.elTooltipContent).hide();
          };
        })(this));
        $(this.elTooltipContent).mouseover(function() {
          return $(this).show();
        });
        return $(this.elTooltipContent).mouseout((function(_this) {
          return function() {
            return $(_this.elTooltipContent).hide();
          };
        })(this));
      });
    };
  })(jQuery);

}).call(this);
